<!DOCTYPE html>
<html lang="en">

<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="description" content="Sliver Example App 1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- mobile-friendly -->
<title>Sliver Example App 1</title>

<style>

  body {
    /* Light theme */
    color: black;
    background-color: white;
    /* Dark theme */
    /*
    color: white;
    background-color: black;
    */
    font-family: Verdana, sans-serif;
    font-size: 150%;
    letter-spacing: 0.25px;
    line-height: 125%;
  }
  h1 {
    font-weight: bold;
    color: #007700;
    font-size: 110%;
    text-align: center;
    margin: 40px;
  }
  h2 {
    font-weight: bold;
    color: #007700;
    font-size: 105%
  }
  h3 {
    font-weight: bold;
    color: #007700;
    font-size: 100%
  }

  table {
    border: 1px solid;
    border-collapse: collapse;
    border-color: #808080;
  }

  td {
    border: 1px solid;
    border-collapse: collapse;
    border-color: #808080;
    padding: 3px;
  }

  th {
    border: 1px solid;
    border-collapse: collapse;
    border-color: #808080;
    padding: 3px;
  }

  a:link {
    color: #007700;
  }
  a:visited {
    color: #007700;
  }
  a:active {
    color: #007700;
  }

  .error {
    color: red;
    background-color: white;
    border: 1px solid gray;
    padding: 10px;
    margin: 10px;
  }

  input {
    font-weight: bold;
    color: black;
  }

  button {
    font-weight: bold;
    background-color: #e8e8e8;
    border: 0;
    padding: 4px;
    border-radius: 4px;
    margin: 4px;
  }
  button:hover {
    font-weight: bold;
    background-color: #d8d8d8;
    border: 0;
    padding: 4px;
    border-radius: 4px;
    margin: 4px;
  }
  button:active {
    font-weight: bold;
    background-color: #c0c0c0;
    border: 0;
    padding: 4px;
    border-radius: 4px;
    margin: 4px;
  }
  button.selected {
    font-weight: bold;
  }
  button.deselected {
    font-weight: normal;
  }
  button.transparent {
    font-weight: normal;
    border: 0;
    background-color: transparent;
  }

  .boxed-text {
    border: 1px solid black;
    padding-top: 4px;
    padding-bottom: 4px;
    padding-left: 8px;
    padding-right: 8px;
  }
  .center {
    text-align: center;
  }
  .green {
    color: #007700;
  }
  .red {
    color: #cc0000;
  }
  .switch {
    position: relative;
    display: inline-block;
    width: 30px;
    height: 17px;
  }
  .switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    -webkit-transition: .4s;
    transition: .4s;
  }
  .slider:before {
    position: absolute;
    content: "";
    height: 13px;
    width: 13px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    -webkit-transition: .4s;
    transition: .4s;
  }
  input:checked + .slider {
    background-color: #2196F3;
  }
  input:focus + .slider {
    box-shadow: 0 0 1px #2196F3;
  }
  input:checked + .slider:before {
    -webkit-transform: translateX(13px);
    -ms-transform: translateX(13px);
    transform: translateX(13px);
  }
  /* Rounded sliders */
  .slider.round {
    border-radius: 17px;
  }
  .slider.round:before {
    border-radius: 50%;
  }

</style>

</head>

<!-- ================================================================ -->
<body>

<h1><span class="boxed-text">sliver-app-1</span></h1>

<!--
  This is a self-contained widget for error-text and cancel/X button.
  We use Sliver's setErrorWidget to route top-level errors here.
-->
<span id="error-container" class="error">
  <button
    class=transparent
    onClick='
      document.getElementById("error-container").style.display = "none";
      document.getElementById("error-text").innerHTML = "";
    '
  > &times; </button>
  <span id="error-text"> </span>
</span>

<!-- ================================================================ -->

<span>
  <button class="green" id="clear-text-input-1"> Loading ... </button>
  <span> Your text: </span>
  <input type=text placeholder="..." size=30 id="text-input-1"></input>
  <span> Reversed: </span>
  <span id="text-output-1" style="display:inline"> Loading ... </span>
</span>

<p/>

<!-- ================================================================ -->
<hr/>

<button class="red" id="make-an-error-happen-button"> Loading ... </button>

<!-- ================================================================ -->
<hr/>

<div>
  <button class="green" id="item-switch-button"> Loading ... </button>
</div>

<div id="switch-item-1">
  This is a table. Click the button above to see something else.
  <table>
    <tr> <th>A</th> <th>B</th> <th>C</th> </tr>
    <tr> <td>1</td> <td>2</td> <td>3</td> </tr>
    <tr> <td>4</td> <td>5</td> <td>6</td> </tr>
  </table>
</div>

<div id="switch-item-2">
  This is just some text. Click the button above to see the table again.
</div>

<!-- ================================================================ -->
<hr/>

<div>
  <button class="green" id="item-switch-button-1"> Loading ... </button>
  <button class="green" id="item-switch-button-2"> Loading ... </button>
</div>

<div id="switch-item-1b">
  This is another table. Click the button above to see something else.
  <table>
    <tr> <th>D</th> <th>E</th> <th>F</th> </tr>
    <tr> <td>4</td> <td>5</td> <td>6</td> </tr>
    <tr> <td>7</td> <td>8</td> <td>9</td> </tr>
  </table>
</div>

<div id="switch-item-2b">
  This is just some text. Click the button above to see the table again.
</div>

<!-- ================================================================ -->
<hr/>

<button class="green" id="toggler-button-1"> Loading ... </button>
<button class="green" id="toggler-button-2"> Loading ... </button>
<button class="green" id="toggler-button-3"> Loading ... </button>
<button id="toggler-button-expand-all"> Loading ... </button>
<button id="toggler-button-collapse-all"> Loading ... </button>
<p/>

<div id="toggler-section-1">
<b>Section 1</b>
<p>
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
incididunt ut labore et dolore magna aliqua. Diam sollicitudin tempor id eu
nisl nunc mi ipsum faucibus. Sed vulputate mi sit amet mauris. Ut tellus
elementum sagittis vitae et leo duis ut. Nunc sed blandit libero volutpat sed
cras. Cursus in hac habitasse platea dictumst quisque. Amet dictum sit amet
justo. In cursus turpis massa tincidunt. Vitae proin sagittis nisl rhoncus
mattis rhoncus urna neque. Enim nunc faucibus a pellentesque sit amet. Vel orci
porta non pulvinar neque laoreet. Facilisi nullam vehicula ipsum a. Mi bibendum
neque egestas congue quisque egestas diam in arcu. Viverra mauris in aliquam
sem fringilla ut morbi tincidunt augue.
</p>
</div>

<div id="toggler-section-2">
<b>Section 2</b>
<p>
Ipsum faucibus vitae aliquet nec ullamcorper sit amet risus nullam. Convallis
posuere morbi leo urna molestie at elementum eu facilisis. Sit amet consectetur
adipiscing elit. Augue mauris augue neque gravida. Vel pharetra vel turpis nunc
eget lorem dolor sed viverra. Fermentum posuere urna nec tincidunt praesent
semper. Sapien pellentesque habitant morbi tristique senectus et netus et.
Consectetur adipiscing elit ut aliquam purus sit amet. Eget egestas purus
viverra accumsan in nisl nisi. Ullamcorper morbi tincidunt ornare massa eget
egestas. Massa enim nec dui nunc mattis. Orci eu lobortis elementum nibh. Sit
amet mauris commodo quis. Aliquet risus feugiat in ante metus. Ornare arcu odio
ut sem. Auctor elit sed vulputate mi sit amet mauris. Urna nec tincidunt
praesent semper feugiat nibh sed pulvinar. Vitae tortor condimentum lacinia
quis vel eros donec ac.
</p>
</div>

<div id="toggler-section-3">
<b>Section 3</b>
<p>
Nunc pulvinar sapien et ligula ullamcorper malesuada. Ante in nibh mauris
cursus mattis molestie a iaculis at. Et ultrices neque ornare aenean euismod.
Pharetra magna ac placerat vestibulum lectus mauris. Semper auctor neque vitae
tempus quam pellentesque nec nam. Viverra suspendisse potenti nullam ac tortor
vitae purus. Vel risus commodo viverra maecenas accumsan lacus vel facilisis
volutpat. Dictum non consectetur a erat. Sit amet nisl suscipit adipiscing
bibendum est ultricies. Ipsum consequat nisl vel pretium lectus. Sapien eget mi
proin sed libero enim sed faucibus turpis. Faucibus a pellentesque sit amet
porttitor eget dolor. Egestas dui id ornare arcu odio ut sem nulla pharetra.
Nunc sed velit dignissim sodales ut eu sem integer. Porttitor lacus luctus
accumsan tortor posuere ac. Id consectetur purus ut faucibus pulvinar. Bibendum
est ultricies integer quis auctor elit sed vulputate mi. Magna sit amet purus
gravida quis.
</p>
</div>

<!-- ================================================================ -->
<hr/>

<div>
  Source and documentation: <a href="https://github.com/johnkerl/sliver">https://github.com/johnkerl/sliver</a>
</div>
<p/>

<div>
  <label class="switch">
    <input type="checkbox" id="light-theme-dark-theme-toggle">
    <span class="slider round"></span>
  </label>
  <span id="light-theme-dark-theme-label">Loading ...</span>
</div>
<p/>

<!-- ================================================================ -->
<script type=module>
  'use strict';

  import {
    Button,
    Dropdown,
    GenericElement,
    IntRangeInput,
    LightDarkThemeSlider,
    NButtonSwitcher,
    OneButtonSwitcher,
    TextInput,
    TextSpan,
    PersistentNButtonToggler,
    URLAndPersistentNButtonToggler,
    isInteger,
    setErrorWidget,
  } from "https://johnkerl.org/sliver/stable/classes.js"

  setErrorWidget("error-container", "error-text")

  class App1 {

    constructor() {

      this.state = {
        "logLevel": 1, // 0,1,2,3
      }

      this.setElementsAndCallbacks()
      this.elements.textInput1.focus()
    }

    setElementsAndCallbacks() {
      this.elements = {}

      this.elements.textInput1 = new TextInput(
        "text-input-1",
        (event) => {
          this.logAt1("textInput1: <<" + event.target.value + ">>")
          this.elements.textOutput1.set(event.target.value.split("").reverse().join(""))
        }
      )

      this.elements.clearTextInput1Button = new Button(
        "clear-text-input-1",
        "Clear",
        (event) => {
          this.logAt1("clearTextInput1Button click")
          this.elements.textInput1.set("")
          this.elements.textOutput1.set("")
        },
      )

      this.elements.textOutput1 = new TextSpan("text-output-1", "")

      this.elements.switcherButton = new OneButtonSwitcher(
        "item-switch-button",
        [
          new GenericElement("switch-item-1"),
        ],
        [
          new GenericElement("switch-item-2"),
        ],
        "Label for one thing",
        "Label for other thing",
        () => {
          this.logAt1("switcherButton click")
        },
      )

      this.elements.switcher = new NButtonSwitcher(
        {
          "item-switch-button-1": {
            "text": "Label 1",
            "items": [
              new GenericElement("switch-item-1b"),
            ],
            "appCallback": (event) => {
              this.logAt1("switcherButton1 click")
            },
          },
          "item-switch-button-2": {
            "text": "Label 2",
            "items": [
              new GenericElement("switch-item-2b"),
            ],
            "appCallback": (event) => {
              this.logAt1("switcherButton2 click")
            },
          },
        },
        "selected",   // CSS style
        "deselected", // CSS style
      )

      this.elements.multiswitcher = new URLAndPersistentNButtonToggler(
        {
          "toggler-button-1": {
            "text": "Section 1",
            "items": [ new GenericElement("toggler-section-1") ],
            "urlShorthand": "section1",
          },
          "toggler-button-2": {
            "text": "Section 2",
            "items": [ new GenericElement("toggler-section-2") ],
            "urlShorthand": "section2",
          },
          "toggler-button-3": {
            "text": "Section 3",
            "items": [ new GenericElement("toggler-section-3") ],
            "urlShorthand": "section3",
          },
        },
        {
          "toggler-button-expand-all": {
            "text": "Expand all",
          },
        },
        {
          "toggler-button-collapse-all": {
            "text": "Collapse all",
          },
        },
        "selected",   // CSS style
        "deselected", // CSS style
      )

      this.elements.clearTextInput1Button = new Button(
        "make-an-error-happen-button",
        "Make an error happen",
        (event) => {
          throw new Error("This is an error message")
        },
      )

      this.elements.lightDarkThemeElement = new LightDarkThemeSlider(
        "light-theme-dark-theme-toggle",
        "light-theme-dark-theme-label",
        (event) => {
          document.body.style.backgroundColor = "white"
          document.body.style.color = "black"
        },
        (event) => {
          document.body.style.backgroundColor = "black"
          document.body.style.color = "white"
        },
      )

    }

    // ----------------------------------------------------------------
    // LOGGING METHODS

    logAt0(...args) {
      this.logAt(0, ...args)
    }

    logAt1(...args) {
      this.logAt(1, ...args)
    }

    logAt2(...args) {
      this.logAt(2, ...args)
    }

    logAt3(...args) {
      this.logAt(3, ...args)
    }

    logAt(level, ...args) {
      if (this.state.logLevel >= level) {
        console.log(...args)
      }
    }

  }

  // ----------------------------------------------------------------
  const app = new App1()

</script>
<!-- ================================================================ -->
</body>
</html>
