<!DOCTYPE html>
<html lang="en">

<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="description" content="Sliver Example App 1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- mobile-friendly -->
<title>Sliver Example App</title>

<style>

  /* BODY */
  body {
    /* Light theme */
    color: black;
    background-color: white;
    /* Dark theme */
    /*
    color: white;
    background-color: black;
    */
    font-family: Verdana, sans-serif;
    font-size: 100%;
    letter-spacing: 0.25px;
    line-height: 125%;
  }
  h1 {
    font-weight: bold;
    color: #808080;
    font-size: 110%;
    text-align: center;
    margin: 8px;
  }
  h2 {
    font-weight: bold;
    color: #800000;
    font-size: 105%
  }
  h3 {
    font-weight: bold;
    color: #800000;
    font-size: 100%
  }

  a:link {
    color: #800000;
  }
  a:visited {
    color: #800000;
  }
  a:active {
    color: #800000;
  }

  .boxed-text {
    border: 1px solid black;
    padding-top: 4px;
    padding-bottom: 4px;
    padding-left: 8px;
    padding-right: 8px;
  }

  .center {
    text-align: center;
  }

  /* TABLE */
  table {
    border: 1px solid;
    border-collapse: collapse;
    border-color: #808080;
  }

  th {
    font-size: 90%;
    border: 1px solid;
    border-collapse: collapse;
    border-color: #808080;
    padding: 3px;
  }

  td {
    font-size: 90%;
    border: 1px solid;
    border-collapse: collapse;
    border-color: #808080;
    padding: 3px;
  }

  .data-table.table {
    border: 1px solid;
  }
  .data-table.tr {
    border: 1px solid;
  }
  .data-table.th {
    color: #202020;
    background-color: #e0e0e0;
    font-weight: bold;
    padding: 8px;
  }
  .data-table.td {
    padding: 8px;
    font-family: "Courier";
  }

  table.modal-parameters {
    border: 0px;
  }

  tr.modal-parameters{
    border: 0px;
    font-size: 90%;
    padding: 3px;
  }

  th.modal-parameters {
    border: 0px;
    font-size: 90%;
    padding: 3px;
  }

  td.modal-parameters {
    border: 0px;
    font-size: 90%;
    padding: 3px;
  }

  /* ERROR */
  .error {
    color: red;
    /*
    background-color: white;
    */
    border: none;
    padding: 10px;
    margin: 10px;
  }

  /* TEXT COLORS (MAINLY FOR BUTTONS) */
  .white-on-red {
    color: #ffffff;
    background-color: #a7322c;
    border: 0px solid transparent;
  }
  .white-on-maroon {
    color: #ffffff;
    background-color: #a7322c;
    border: 0px solid transparent;
  }
  .white-on-green {
    color: #ffffff;
    background-color: #238636;
  }
  .white-on-blue {
    color: #ffffff;
    background-color: #0a66c2;
  }
  .white-on-orange {
    color: #ffffff;
    background-color: #cc6600;
    border: 0px solid transparent;
  }
  .white-on-grey {
    color: #ffffff;
    background-color: #808080;
  }

  /* BUTTONS */
  button.general {
    font-size: 80%;
    border: 1px solid transparent;
    border-radius: 4px;
    margin: 4px;
    padding: 6px;
  }
  button.general:hover {
  }
  button.general:active {
    border-radius: 4px;
    margin: 5px;
    padding: 5px;
  }
  button.general.selected {
    font-weight: bold;
  }
  button.general.deselected {
    font-weight: normal;
  }
  button.general.transparent {
    font-weight: normal;
    border: 0;
    background-color: transparent;
  }

  button.tab {
    font-size: 80%;
    font-weight: bold;
    color: black;
    background-color: #c0c0c0;
    border: none;
    border-radius: 0px;
    margin: 0px !important;
    padding: 6px;
    display: inline-block;
  }
  button.tab.selected {
    font-weight: bold;
    display: inline-block;
    background-color: white;
  }
  button.tab.deselected {
    font-weight: normal;
    color: #808080;;
    background-color: #c0c0c0;
    display: inline-block;
  }

  .tab-container {
    border: 1px solid gray;
  }
  .element-under-tab {
    /*
    border-top: 1px solid gray;
    */
  }

  /* INPUT */
  input {
    font-weight: bold;
    color: black;
  }

  /* MODALS */
  /*
    There's a trick here (found on the web).
    * The modal background covers the *entire screen*.
    * The modal content is a little box within that.
    *
  */
  .modal-background {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Entire screen */
    height: 100%; /* Entire screen */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0, 0, 0); /* Fallback color in case alpha channel isn't supported */
    background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity -- stuff "under" the modal is dimmed */
  }
  .modal-content {
    background-color: white;
    border-radius: 4px;
    margin: 15% auto; /* 15% from the top and centered */
    padding: 20px;
    border: 2px solid black;
    width: 600px;
  }

  /* SLIDER */
  .switch {
    position: relative;
    display: inline-block;
    width: 30px;
    height: 17px;
  }
  .switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }
  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    -webkit-transition: .4s;
    transition: .4s;
  }
  .slider:before {
    position: absolute;
    content: "";
    height: 13px;
    width: 13px;
    left: 2px;
    bottom: 2px;
    background-color: white;
    -webkit-transition: .4s;
    transition: .4s;
  }
  input:checked + .slider {
    background-color: #2196F3;
  }
  input:focus + .slider {
    box-shadow: 0 0 1px #2196F3;
  }
  input:checked + .slider:before {
    -webkit-transform: translateX(13px);
    -ms-transform: translateX(13px);
    transform: translateX(13px);
  }
  /* Rounded sliders */
  .slider.round {
    border-radius: 17px;
  }
  .slider.round:before {
    border-radius: 50%;
  }

</style>

</head>

<!-- ================================================================ -->
<body>

<h1><span class="boxed-text">Sliver Example App</span></h1>

<p>
This is a sample application for the <a href="https://github.com/johnkerl/sliver">Sliver JavaScript
library</a>, which is a lark/DIY project.
</p>

<!-- ================================================================ -->
<!--
<hr/>

<div>
  <span> <code>&gt;</code> </span>
  <span> <code>v</code> </span>
</div>
-->

<!-- ================================================================ -->
<hr/>
<h1> <code>TextInput, TextSpan</code> </h1>

<p>
These use Sliver&rsquo;s <code>TextInput</code> and <code>TextSpan</code> classes.
A <code>Button</code> is connected to clear the former; events in the former are used to update
the latter.
</p>

<span>
  <button class="general white-on-green" id="clearTextInput1Button"> Loading ... </button>
  <span> Your text: </span>
  <input type=text placeholder="..." size=30 id="textInput_1"></input>
  <span> Reversed: </span>
  <span id="textSpan_1" style="display:inline"> Loading ... </span>
</span>

<p/>

<!-- ================================================================ -->
<hr/>

<h1><code>setErrorWidget</code></h1>

<p>
Here we use Sliver&rsquo;s <code>setErrorWidget</code> which puts error text where it can be seen, on the
page, rather than being hidden in the Developer Console.
</p>

<!--
  This is a self-contained widget for error-text and cancel/X button.
  We use Sliver's setErrorWidget to route top-level errors here.
-->
<div id="error-container" class="error">
  <hr/>
  <!-- This is a little x -->
  <button
    onClick='
      document.getElementById("error-container").style.display = "none";
      document.getElementById("error-text").innerHTML = "";
    '
  > &times; </button>
  <span id="error-text"> </span>
  <hr/>
</div>

<button class="general white-on-red" id="makeAnErrorHappenButton"> Loading ... </button>

<!-- ================================================================ -->
<hr/>
<h1><code>NButtonSelector</code></h1>

<p>
Here we use Sliver&rsquo;s <code>NButtonSelector</code>. This class ensures that selecting one button
deselects the other two. The action performed on button-click is an app-level callback: here, we
simply write a message to a <code>TextSpan</code>.
</p>

<div>
  <button class="general white-on-grey" id="NButtonSelector_1_button_1"> Loading ... </button>
  <button class="general white-on-grey" id="NButtonSelector_1_button_2"> Loading ... </button>
  <button class="general white-on-grey" id="NButtonSelector_1_button_3"> Loading ... </button>
</div>

<div id="NButtonSelector_1_Output">
  Loading ...
</div>

<!-- ================================================================ -->
<hr/>
<h1><code>OneButtonSwitcher</code></h1>

<p>
Here we use Sliver&rsquo;s <code>OneButtonSwitcher</code>. This controls two other elements.
Precisely one of the two is visible at once time. The nominal use is for a show/hide button.
Note that the two elements persist &mdash; only their visibility is toggled. In particular, you can
add rows to the table, hide it, then show it again, and its contents are still there.
</p>

<div>
  <button class="general white-on-blue" id="oneButtonSwitcher_1_button"> Loading ... </button>
</div>

<div id="oneButtonSwitcher_1_item_1">
  <span>
    <button class="general white-on-green" id="dataTableAddRowButton"></button>
    <button class="general white-on-grey" id="dataTableClearButton"></button>
  </span>
  <table id="dataTable_1"> </table>
</div>

<div id="oneButtonSwitcher_1_item_2">
  This is just some text. Click the button above to see the table again.
</div>

<!-- ================================================================ -->
<hr/>

<p>
This is also <code>OneButtonSwitcher</code>, with different CSS. The button is the borderless
wedge-expander at the upper left:
</p>

<div>
  <div style="border:3px solid gray">
    <span>
      <button class="general" id="oneButtonSwitcher_2_button"> Loading ... </button>
      Here is a card with show/hide of its contents
    </span>
  </div>

  <div id="oneButtonSwitcher_2_item_1" style="border: 1px solid gray">
    <ul>
      <li>This is an item in the list</i>
      <li>This is the second item in the list</i>
      <li>This is the third item in the list</i>
    </ul>
    <table id="dataTable_1"> </table>
  </div>

  <div id="oneButtonSwitcher_2_item_2" style="border: none">
  </div>

</div>

<!-- ================================================================ -->
<hr/>
<h1><code>NButtonSwitcher</code></h1>

<p>
Here we use Sliver&rsquo;s <code>NButtonSwitcher</code>. This like <code>OneButtonSwitcher</code>,
except that you can have arbitrarily many elements, with only one being visible at a time. Each has its
own button.
</p>

<div>
  <button class="general white-on-orange" id="NButtonSwitcher_1_button_1"> Loading ... </button>
  <button class="general white-on-orange" id="NButtonSwitcher_1_button_2"> Loading ... </button>
  <button class="general white-on-orange" id="NButtonSwitcher_1_button_3"> Loading ... </button>
</div>

<div id="NButtonSwitcher_1_item_1">
The quick brown fox jumped over the lazy dogs.
</div>

<div id="NButtonSwitcher_1_item_2">
Few black taxis drive up major roads on quiet, hazy nights.
</div>

<div id="NButtonSwitcher_1_item_3">
While making deep excavations we found some quaint bronze jewelry.
</div>

<!-- ================================================================ -->
<hr/>

<p>
This is also <code>NButtonSwitcher</code> with different CSS, implementing a tabbed look:
</p>

<div class="tab-container">

  <div>
    <div class="flex-container" style="background-color: #808080">
      &nbsp;
      <button class="tab" id="NButtonSwitcher_2_button_1"> Ipsum </button>
      <button class="tab" id="NButtonSwitcher_2_button_2"> Sapien </button>
      <button class="tab" id="NButtonSwitcher_2_button_3"> Aliquet </button>
    </div>
  </div>

  <div class="element-under-tab">

    <div id="NButtonSwitcher_2_item_1">
      <ul>
        <li>Ipsum faucibus vitae aliquet nec ullamcorper sit amet risus nullam.</li>
        <li>Convallis posuere morbi leo urna molestie at elementum eu facilisis.</li>
        <li>Sit amet consectetur adipiscing elit.</li>
        <li>Augue mauris augue neque gravida.</li>
        <li>Vel pharetra vel turpis nunc eget lorem dolor sed viverra.</li>
        <li>Fermentum posuere urna nec tincidunt praesent semper.</li>
      </ul>
    </div>

    <div id="NButtonSwitcher_2_item_2">
      <ul>
        <li>Sapien pellentesque habitant morbi tristique senectus et netus et.</li>
        <li>Consectetur adipiscing elit ut aliquam purus sit amet. Eget egestas purus viverra accumsan in nisl
          nisi.</li>
        <li>Ullamcorper morbi tincidunt ornare massa eget egestas.</li>
        <li>Massa enim nec dui nunc mattis.</li>
        <li>Orci eu lobortis elementum nibh.</li>
        <li>Sit amet mauris commodo quis.</li>
      </ul>
    </div>

    <div id="NButtonSwitcher_2_item_3">
      <ul>
        <li>Aliquet risus feugiat in ante metus.</li>
        <li>Ornare arcu odio ut sem.</li>
        <li>Auctor elit sed vulputate mi sit amet mauris.</li>
        <li>Urna nec tincidunt praesent semper feugiat nibh sed pulvinar.</li>
        <li>Vitae tortor condimentum lacinia quis vel eros donec ac.</li>
      </ul>
    </div>
  </div>
</div>

<!-- ================================================================ -->
<hr/>

<p>
A third example of <code>NButtonSwitcher</code>, using buttons in a left-hand navbar, may be
found at <a href="https://johnkerl.org/doc/make/">https://johnkerl.org/doc/make/</a>.
</p>

<!-- ================================================================ -->
<hr/>
<h1><code>NButtonToggler</code></h1>

<p>
Here we use Sliver&rsquo;s <code>NButtonToggler</code>. This is like <code>NButtonSwitcher</code>,
except that there are expand-all and collapse-all buttons, and, it's possible to have none of
the elements be visible: namely, by clicking the button for an element that&rsquo;s currently visible.
I created this for <a href="https://johnkerl.org">https://johnkerl.org</a>.
</p>

<button class="general white-on-maroon" id="NButtonToggler1Button1"> Loading ... </button>
<button class="general white-on-maroon" id="NButtonToggler1Button2"> Loading ... </button>
<button class="general white-on-maroon" id="NButtonToggler1Button3"> Loading ... </button>
<button class="general white-on-maroon" id="NButtonToggler1Button4"> Loading ... </button>
<button class="general" id="NButtonToggler1ExpandAll"> Loading ... </button>
<button class="general" id="NButtonToggler1CollapseAll"> Loading ... </button>
<p/>

<div id="toggler-section-1">
<b>Section 1</b>
<p>
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
incididunt ut labore et dolore magna aliqua.
</p>
</div>

<div id="toggler-section-2">
<b>Section 2</b>
<p>
Diam sollicitudin tempor id eu nisl nunc mi ipsum faucibus.
</p>
</div>

<div id="toggler-section-3">
<b>Section 3</b>
<p>
Sed vulputate mi sit amet mauris.
</p>
</div>

<div id="toggler-section-4">
<b>Section 4</b>
<p>
Ut tellus elementum sagittis vitae et leo duis ut.
</p>
</div>

<!-- ================================================================ -->
<hr/>
<h1>Modals</h1>

This is a pop-up or modal, implemented using Sliver&rsquo;s <code>Button</code> and <code>GenericElement</code>.

<!-- Modal-launcher button -->
<div>
  <button id="modal_1_launcherButton" class="general white-on-blue" > Pop up </button>
</div>

<!-- Modal content -->
<div id="modal_1_background" class="modal-background">
  <div id="modal_1_content" class="modal-content">

    <table id="modal1ParametersTable" class="modal-parameters">

      <tr class="modal-parameters">
        <td class="modal-parameters">
          First number:
        </td>
        <td class="modal-parameters">
          <input type="text" id="modal_1_input_number_1"/>
        </td>
      </tr>

      <tr class="modal-parameters">
        <td class="modal-parameters">
          Second number:
        </td>
        <td>
          <input type="text" id="modal_1_input_number_2"/>
        </td>
      </tr>

      <tr class="modal-parameters">
        <td class="modal-parameters">
          Operation:
        </td>
        <td class="modal-parameters">
          <select style="width: 280px" id="modal_1_operation"/>
            <option selected=""></option>
            <option>+</option>
            <option>-</option>
            <option>*</option>
            <option>/</option>
            <option>%</option>
            <option>**</option>
          </select>
        </td>
      </tr>

    </table>

    <div>
      <button id="modal_1_OKButton" class="general white-on-green" > OK </button>
      <button id="modal_1_ClearButton" class="general white-on-grey" > Clear </button>
      <button id="modal_1_CancelButton" class="general white-on-grey" > Cancel </button>

    </div>

  </div>
</div>

<div id="modal_1_output">
</div>

<!-- ================================================================ -->
<hr/>
<h1>Font comparison</h1>

<p> This is a bit of font fun. It uses Sliver&rsquo;s <code>TextInput</code> connect with
<code>&lt;fieldset&gt;</code> and <code>&lt;datalist&gt;</code> in the browser API. The app-level
callbacks on this page are set up to control font family, style, and weight for some sample text.
There are two such areas, so you can compare one against the other.  </p>

<!-- fieldset allows a nice legend, of which I enjoy the styling -->
<fieldset>
  <legend>
    <b style="color:#800000">Font 1</b>
  </legend>
  <label>Name: <input id="fontFamilySelectInput1" list="font-names-1" /></label>
  <datalist id="font-names-1">
    <option value="Arial">
    <option value="Courier">
    <option value="Courier New">
    <option value="Garamond">
    <option value="Palatino">
    <option value="Times New Roman">
    <option value="Verdana">
  </datalist>
  <label>Style: <input id="fontStyleSelectInput1" list="font-styles-1" /></label>
  <datalist id="font-styles-1">
    <option value="normal">
    <option value="italic">
    <option value="oblique">
  </datalist>
  <label>Weight: <input id="fontWeightSelectInput1" list="font-weights-1" /></label>
  <datalist id="font-weights-1">
    <option value="1">
    <option value="thin">
    <option value="normal">
    <option value="400">
    <option value="bold">
    <option value="700">
    <option value="heavy">
    <option value="999">
  </datalist>
  <div id="fontSelectOutput1">
    <p>Hamburgevons. The quick brown fox jumped over the lazy dogs.</p>
    <p>HAMBURGEVONS. THE QUICK BROWN FOX JUMPED OVER THE LAZY DOGS.</p>
  </div>
</fieldset>

<!-- fieldset allows a nice legend, of which I enjoy the styling -->
<fieldset>
  <legend>
    <b style="color:#000080">Font 2</b>
  </legend>
  <label>Name: <input id="fontFamilySelectInput2" list="font-names-2" /></label>
  <datalist id="font-names-2">
    <option value="Arial">
    <option value="Courier">
    <option value="Courier New">
    <option value="Garamond">
    <option value="Palatino">
    <option value="Times New Roman">
    <option value="Verdana">
  </datalist>
  <label>Style: <input id="fontStyleSelectInput2" list="font-styles-2" /></label>
  <datalist id="font-styles-2">
    <option value="normal">
    <option value="italic">
    <option value="oblique">
  </datalist>
  <label>Weight: <input id="fontWeightSelectInput2" list="font-weights-2" /></label>
  <datalist id="font-weights-2">
    <option value="1">
    <option value="thin">
    <option value="normal">
    <option value="400">
    <option value="bold">
    <option value="700">
    <option value="heavy">
    <option value="999">
  </datalist>
  <div id="fontSelectOutput2">
    <p>Hamburgevons. The quick brown fox jumped over the lazy dogs.</p>
    <p>HAMBURGEVONS. THE QUICK BROWN FOX JUMPED OVER THE LAZY DOGS.</p>
  </div>
</fieldset>

<!-- ================================================================ -->
<hr/>
<h1>LightDarkThemeSlider</h1>

<div>
  <label class="switch">
    <input type="checkbox" id="lightThemeDarkThemeToggle">
    <span class="slider round"></span>
  </label>
  <span id="lightThemeDarkThemeLabel">Loading ...</span>
</div>
<p/>

<!-- ================================================================ -->
<hr/>
<h1>Source and documentation</h1>

<p>
  Please see <a href="https://github.com/johnkerl/sliver">https://github.com/johnkerl/sliver</a>
<p/>

<!-- ================================================================ -->
<script type=module>
  'use strict';

  import {
    Button,
    Dropdown,
    GenericElement,
    IntRangeInput,
    LightDarkThemeSlider,
    NButtonSelector,
    NButtonSwitcher,
    OneButtonSwitcher,
    Table,
    TextInput,
    TextSpan,
    URLAndPersistentNButtonToggler,
    isInteger,
    setErrorWidget,
  // } from "http://127.0.0.1:9999/sliver/dev/sliver.js"
  // npx http-server ~/pub_http_internet -o -p 9999
  // } from "https://johnkerl.org/sliver/staging/sliver.js"
  } from "https://johnkerl.org/sliver/stable/sliver.js"

  setErrorWidget("error-container", "error-text")

  function randomWord(alphabet, wordLength) {
    let output = ""
    for (let i = 0; i < wordLength; i++) {
      let idx = Math.floor(alphabet.length * Math.random())
      output += alphabet[idx]
    }
    return output
  }

  class App1 {

    constructor() {

      // You can set `window.app.state.logLevel = 2` in the Developer Console
      this.state = {
        "logLevel": 0, // 0,1,2,3
      }

      this.setElementsAndCallbacks()
      this.elements.textInput_1.focus()
    }

    setElementsAndCallbacks() {
      this.elements = {}

      // ----------------------------------------------------------------
      this.elements.textInput_1 = new TextInput(
        "textInput_1",
        (event) => {
          this.logAt1("textInput_1: <<" + event.target.value + ">>")
          this.elements.textSpan_1.set(event.target.value.split("").reverse().join(""))
        }
      )

      this.elements.clearTextInput1Button = new Button(
        "clearTextInput1Button",
        "Clear",
        (event) => {
          this.logAt1("clearTextInput1Button click")
          this.elements.textInput_1.set("")
          this.elements.textSpan_1.set("")
        },
      )

      this.elements.textSpan_1 = new TextSpan("textSpan_1", "")

      // ----------------------------------------------------------------
      this.elements.makeAnErrorHappenButton = new Button(
        "makeAnErrorHappenButton",
        "Make an error happen",
        (event) => {
          throw new Error("This is an error message")
        },
      )

      // ----------------------------------------------------------------
      this.elements.oneButtonSwitcher_1_button = new OneButtonSwitcher(
        "oneButtonSwitcher_1_button",
        [
          new GenericElement("oneButtonSwitcher_1_item_1"),
        ],
        [
          new GenericElement("oneButtonSwitcher_1_item_2"),
        ],
        "Showing the first thing",
        "Showing the second thing",
        () => {
          this.logAt1("oneButtonSwitcher_1_button click")
        },
      )

      // ----------------------------------------------------------------
      this.elements.oneButtonSwitcher_2_button = new OneButtonSwitcher(
        "oneButtonSwitcher_2_button",
        [
          new GenericElement("oneButtonSwitcher_2_item_1"),
        ],
        [
          new GenericElement("oneButtonSwitcher_2_item_2"),
        ],
        "▽", // Unicode "&#9661;"
        "▷", // Unicode "&#9655;"
        () => {
          this.logAt1("oneButtonSwitcher_2_button click")
        },
      )

      // ----------------------------------------------------------------
      this.elements.dataTable_1 = new Table(
        "dataTable_1",
        {
          "table": "data-table table",
          "tr": "data-table tr",
          "th": "data-table th",
          "td": "data-table td",
        },
        ["Nonce", "Alpha", "Hex"],
        {},
      )

      this.elements.dataTableAddRowButton = new Button(
        "dataTableAddRowButton",
        "Add row to table",
        (event) => {
          let nonce = randomWord("0123456789", 6)
          let alpha = randomWord("ABCDEFGHIJKLMNOPQRSTUVWXYZ", 8)
          let hexes = "0123456789abcdef"
          let hx = randomWord(hexes, 4) + "-" + randomWord(hexes, 8)

          this.elements.dataTable_1.put(
            [
              [nonce, alpha, hx],
            ],
          )

        },
      )

      this.elements.dataTableClearButton = new Button(
        "dataTableClearButton",
        "Clear table",
        (event) => {
          this.elements.dataTable_1.reset()
        },
      )

      // ----------------------------------------------------------------
      this.elements.selectorOutput = new TextSpan("NButtonSelector_1_Output", "No option has been selected yet")
      this.elements.NButtonSelector1 = new NButtonSelector(
        {
          "NButtonSelector_1_button_1": {
            "text": "Option 1",
            "callback": (event) => {
              this.elements.selectorOutput.set("Option 1 was selected")
            },
          },
          "NButtonSelector_1_button_2": {
            "text": "Option 2",
            "callback": (event) => {
              this.elements.selectorOutput.set("Option 2 was selected")
            },
          },
          "NButtonSelector_1_button_3": {
            "text": "Option 3",
            "callback": (event) => {
              this.elements.selectorOutput.set("Option 3 was selected")
            },
          },
        },
        "selected",   // CSS style
        "deselected", // CSS style
      )

      // ----------------------------------------------------------------
      this.elements.NButtonSwitcher_1 = new NButtonSwitcher(
        {
          "NButtonSwitcher_1_button_1": {
            "text": "Pangram 1",
            "items": [
              new GenericElement("NButtonSwitcher_1_item_1"),
            ],
            "callback": (event) => {
              this.logAt1("NButtonSwitcher_1_button1_1 click")
            },
          },
          "NButtonSwitcher_1_button_2": {
            "text": "Pangram 2",
            "items": [
              new GenericElement("NButtonSwitcher_1_item_2"),
            ],
            "callback": (event) => {
              this.logAt1("NButtonSwitcher_1_button_2 click")
            },
          },
          "NButtonSwitcher_1_button_3": {
            "text": "Pangram 3",
            "items": [
              new GenericElement("NButtonSwitcher_1_item_3"),
            ],
            "callback": (event) => {
              this.logAt1("NButtonSwitcher_1_button_3 click")
            },
          },
        },
        "selected",   // CSS style
        "deselected", // CSS style
      )

      // ----------------------------------------------------------------
      this.elements.NButtonSwitcher_2 = new NButtonSwitcher(
        {
          "NButtonSwitcher_2_button_1": {
            "text": null, // Use HTML
            "items": [
              new GenericElement("NButtonSwitcher_2_item_1"),
            ],
            "callback": (event) => {
              this.logAt1("NButtonSwitcher_2_button1_1 click")
            },
          },
          "NButtonSwitcher_2_button_2": {
            "text": null, // Use HTML
            "items": [
              new GenericElement("NButtonSwitcher_2_item_2"),
            ],
            "callback": (event) => {
              this.logAt1("NButtonSwitcher_2_button_2 click")
            },
          },
          "NButtonSwitcher_2_button_3": {
            "text": null, // Use HTML
            "items": [
              new GenericElement("NButtonSwitcher_2_item_3"),
            ],
            "callback": (event) => {
              this.logAt1("NButtonSwitcher_2_button_3 click")
            },
          },
        },
        "selected",   // CSS style
        "deselected", // CSS style
      )

      // ----------------------------------------------------------------
      this.elements.NButtonToggler_1 = new URLAndPersistentNButtonToggler(
        {
          "NButtonToggler1Button1": {
            "text": "Section 1",
            "items": [ new GenericElement("toggler-section-1") ],
            "callback": () => {},
            "urlShorthand": "section1",
          },
          "NButtonToggler1Button2": {
            "text": "Section 2",
            "items": [ new GenericElement("toggler-section-2") ],
            "callback": () => {},
            "urlShorthand": "section2",
          },
          "NButtonToggler1Button3": {
            "text": "Section 3",
            "items": [ new GenericElement("toggler-section-3") ],
            "callback": () => {},
            "urlShorthand": "section3",
          },
          "NButtonToggler1Button4": {
            "text": "Section 4",
            "items": [ new GenericElement("toggler-section-4") ],
            "callback": () => {},
            "urlShorthand": "section4",
          },
        },
        {
          "NButtonToggler1ExpandAll": {
            "text": "Expand all",
          },
        },
        {
          "NButtonToggler1CollapseAll": {
            "text": "Collapse all",
          },
        },
        "selected",   // CSS style
        "deselected", // CSS style
      )

      // ----------------------------------------------------------------

      this.elements.fontSelectOutput1 = new GenericElement(
        "fontSelectOutput1",
      )
      this.elements.fontFamilySelectInput1 = new TextInput(
        "fontFamilySelectInput1",
        (event) => {
          this.elements.fontSelectOutput1.underlying.style.fontFamily = event.target.value
        },
      )
      this.elements.fontStyleSelectInput1 = new TextInput(
        "fontStyleSelectInput1",
        (event) => {
          this.elements.fontSelectOutput1.underlying.style.fontStyle = event.target.value
        },
      )
      this.elements.fontWeightSelectInput1 = new TextInput(
        "fontWeightSelectInput1",
        (event) => {
          this.elements.fontSelectOutput1.underlying.style.fontWeight = event.target.value
        },
      )

      this.elements.fontSelectOutput2 = new GenericElement(
        "fontSelectOutput2",
      )
      this.elements.fontFamilySelectInput2 = new TextInput(
        "fontFamilySelectInput2",
        (event) => {
          this.elements.fontSelectOutput2.underlying.style.fontFamily = event.target.value
        },
      )
      this.elements.fontStyleSelectInput2 = new TextInput(
        "fontStyleSelectInput2",
        (event) => {
          this.elements.fontSelectOutput2.underlying.style.fontStyle = event.target.value
        },
      )
      this.elements.fontWeightSelectInput2 = new TextInput(
        "fontWeightSelectInput2",
        (event) => {
          this.elements.fontSelectOutput2.underlying.style.fontWeight = event.target.value
        },
      )

      // ----------------------------------------------------------------
      this.elements.modal_1_background  = new GenericElement("modal_1_background")

      this.elements.modal_1_input_number_1 = new TextInput(
        "modal_1_input_number_1",
        (event) => {
          // Stash the value in the DOM element with key "appValue"
          this.elements.modal_1_input_number_1.underlying.appValue = event.target.value
        },
      )
      this.elements.modal_1_input_number_2 = new TextInput(
        "modal_1_input_number_2",
        (event) => {
          // Stash the value in the DOM element with key "appValue"
          this.elements.modal_1_input_number_2.underlying.appValue = event.target.value
        },
      )
      this.elements.modal_1_operation = new TextInput(
        "modal_1_operation",
        (event) => {
          // Stash the value in the DOM element with key "appValue"
          this.elements.modal_1_operation.underlying.appValue = event.target.value
        },
      )
      this.elements.modal_1_output = new TextSpan(
        "modal_1_output",
        "",
      )

      this.elements.modal_1_input_number_1.underlying.appValue = null;
      this.elements.modal_1_input_number_2.underlying.appValue = null;
      this.elements.modal_1_operation.underlying.appValue = null;

      this.elements.modal_1_launcherButton = new Button(
        "modal_1_launcherButton",
        null,
        (event) => {
          this.elements.modal_1_background.makeVisible("block")
          this.elements.modal_1_background.underlying.style.display = "block"
        },
      )

      this.elements.modal_1_OKButton = new Button(
        "modal_1_OKButton",
        null,
        (event) => {
          this.elements.modal_1_background.makeInvisible()

          const a = Number(this.elements.modal_1_input_number_1.underlying.appValue)
          const b = Number(this.elements.modal_1_input_number_2.underlying.appValue)
          const op = this.elements.modal_1_operation.underlying.appValue
          if (a == null || a == "" || b == null || b == "" || op == null || op == "") {
            this.elements.modal_1_output.set("")
          } else {
            let output = [a, op, b, "="].join(" ")
            if (op == "+") {
              output += a + b
            } else if (op == "-") {
              output += a - b
            } else if (op == "*") {
              output += a * b
            } else if (op == "/") {
              output += a / b
            } else if (op == "%") {
              output += a % b
            } else if (op == "**") {
              output += a ** b
            } else {
              output += "???"
            }
            this.elements.modal_1_output.set(output)
          }
        },
      )

      this.elements.modal_1_ClearButton = new Button(
        "modal_1_ClearButton",
        null,
        (event) => {
          // Clear display values for the pop-up
          this.elements.modal_1_input_number_1.set(null)
          this.elements.modal_1_input_number_2.set(null)
          this.elements.modal_1_operation.set(null)
          // Clear saved values
          this.elements.modal_1_input_number_1.underlying.appValue = null;
          this.elements.modal_1_input_number_2.underlying.appValue = null;
          this.elements.modal_1_operation.underlying.appValue = null;
        },
      )

      this.elements.modal_1_CancelButton = new Button(
        "modal_1_CancelButton",
        null,
        (event) => {
          this.elements.modal_1_background.makeInvisible()
        },
      )

      // ----------------------------------------------------------------
      this.elements.lightDarkThemeElement = new LightDarkThemeSlider(
        "lightThemeDarkThemeToggle",
        "lightThemeDarkThemeLabel",
        (event) => {
          document.body.style.backgroundColor = "white"
          document.body.style.color = "black"
        },
        (event) => {
          document.body.style.backgroundColor = "black"
          document.body.style.color = "white"
        },
      )

    }

    // ----------------------------------------------------------------
    // LOGGING METHODS

    logAt0(...args) {
      this.logAt(0, ...args)
    }

    logAt1(...args) {
      this.logAt(1, ...args)
    }

    logAt2(...args) {
      this.logAt(2, ...args)
    }

    logAt3(...args) {
      this.logAt(3, ...args)
    }

    logAt(level, ...args) {
      if (this.state.logLevel >= level) {
        console.log(...args)
      }
    }

  }

  // ----------------------------------------------------------------
  const app = new App1()
  // Expose from module visibility to top-level visibility for Console use
  window.app = app

</script>
<!-- ================================================================ -->
</body>
</html>
